<!DOCTYPE html> 
<html> 
<!-- The following code has been developed by students and/or researchers of the Freshman Research Initiative DIY Diagnostics Stream at The University of Texas at Austin.  This code is shared for demonstration purposes and should not be considered a product -- it is for entertainment purposes only.  Any user of this code does so at their own risk. Members of the DIY Stream, FRI, and The University of Texas system are not liable for anything related to this code.
 
THIS CODE SHOULD NOT BE USED TO DIAGNOSE ANY KIND OF MEDICAL CONDITION.
 
 
Authors in chronological order of contribution:
Tim Riedel
Kumba Ngevao
 
Further Information:
http://cns.utexas.edu/fri
 
Research Educator:
Timothy Riedel
triedel@utexas.edu
 
Brief Description of Goal of Code:
The goal of this code is to be able to use diagnostic technologies to be able to distinguish between the symptoms given if said condition is a cold or seasonal allergies.
 
Known Issues:
Oncee user is completed entering their symptoms results will not pop up after slicking show results.
After ckilcking view result app will go back to first page instead of showing resluts. 	
-->
	
   <head> 
      <title>Hello World</title>  
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="apple-mobile-web-app-capable" content="yes">
      <link rel="stylesheet" href="w3.css">
      <link rel="stylesheet" href="w3-colors-flat.css">
   </head> 

<script>
        var allergy_count = 0;
        var cold_count = 0;


        function allergyAdd(){
            allergy_count = allergy_count + 1;
		alert(allergy_count);

        }

        function coldAdd(){
            cold_count = cold_count + 1;
        }

  </script>



<style>	
.body {
     margin: 0em;
}

.page {
    width: 100vw;
    height: 100vh;
    position: fixed;
    top: 0;
    left: -100vw;
    overflow-y: auto;
    z-index: 0;
    background-color: hsl(0,0%,100%);
}

  .page:target {
    left: 0vw;
    z-index: 1;
}
</style>

<body>
<div id="header" class="w3-container w3-flat-carrot">
	<h1>Cold or Allergies?</h1>
</div>
	
<div id="content" class="w3-container">
	<p>Are you feeling like you might have a cold but wonder if it is allergies. Answer a few short questions to find out!</p>
	
	<a href="#one" class="w3-btn w3-grey w3-round"> Get Started </a>
	
	<p>The following code has been developed by students and/or researchers of the Freshman Research Initiative DIY Diagnostics Stream at The University of Texas at 		Austin.  This code is shared for demonstration purposes and should not be considered a product -- it is for entertainment purposes only. Any user of this code 			does so at their own risk. Members of the DIY Stream, FRI, and The University of Texas system are not liable for anything related to this code.</p>
 	
	<p>THIS CODE SHOULD NOT BE USED TO DIAGNOSE ANY KIND OF MEDICAL CONDITION.</p>

<div class="page" id="one">
<!-- page one of the app, with the first set of questions-->	
	<div id="header" class="w3-container w3-flat-carrot">
		<h1>Question 1</h1>
	</div>
	
    <div id="content" class="w3-container">
        <p>Are your eyes watery or itchy?</p>   
	 <a href="#two" onclick="allergyAdd();" class="w3-btn w3-black"> Yes</a>
         <a href="#two" onclick="coldAdd();" class="w3-btn w3-black">No</a>   
    </div><!-- These HTML codes create the yes and no buttons for the user to imput their answers-->
</div>

<div class="page" id="two">
<!-- page two of the app, with the second set of questions-->
	<div class="w3-container w3-flat-carrot">
		<h1>Question 2</h1>
	</div>
	
	<div id="content2" class="w3-container">
		<p>Do you have a fever?</p>
		 <a href="#three" onclick="allergyAdd();" class="w3-btn w3-black"> Yes</a>
        	 <a href="#three" onclick="coldAdd();" class="w3-btn w3-black">No</a>
	<!--These HTML codes create the yes and no buttons for the user to imput their answers-->
	<!-- Deleted the commands for previous page and next page options as after question one the app didnt work correctly-->	
	</div>
</div>	

<div class="page" id="three">
<!-- page three of the app, with the third set of questions-->	
	<div class="w3-container w3-flat-carrot">
		<h1>Question 3</h1>
	</div>
	
	<div id="content3" class="w3-container">
		<p>Do you have a sore throat?</p>
		 <a href="#four" onclick="allergyAdd();" class="w3-btn w3-black"> Yes</a>
                 <a href="#four" onclick="coldAdd();" class="w3-btn w3-black">No</a>
	<!--These HTML codes create the yes and no buttons for the user to imput their answers-->
	<!-- Deleted the commands for previous page and next page options as after question one the app didnt work correctly-->
	</div>
</div>

<div class="page" id="four">
<!-- page four of the app, with the last set of questions-->	
	<div class="w3-container w3-flat-carrot">
		<h1>Question 4</h1>
	</div>

	<div id="content4" class="w3-container">
		<p>Are your symptoms seasonal or chronic?</p>
		<a href="#results-page" onclick="allergyAdd();" class="w3-btn w3-black"> Yes</a>
		<a href="#results-page" onclick="coldAdd();" class="w3-btn w3-black">No</a>
	<!--These HTML codes create the yes and no buttons for the user to imput their answers-->
	<!-- Deleted the commands for previous page and next page options as after question one the app didnt work correctly-->
	</div>
</div>
	<div class="page" id="results-page">
    <div class="w3-container w3-flat-carrot">
        <h1>Results</h1>
    </div>
    <div id="content5" class="w3-container">
	<!-- Tried to correct the function call by calling the the results (calculateResults()) directly-->	    
        <p id="results"></p>
	    <script>
		    calculateResults(); // This line was added to call calculateResults() when the results page is loaded, PS still doesnt work, shows infinity
	    <a href="#" onclick="calculateResults();" class="w3-btn w3-black"> Show Results </a>
	    </script>   
    </div>
</div>
	
<footer class="w3-bottom w3-container w3-flat-carrot">
<!-- container class for the orange footer of the APP-->	
	<p>DIY!</p>
</footer>

<!--Script added below-->	
<script>
    var answers = [];
    var allergy_count = 0;
    var cold_count = 0;

    function answer(choice) {
        answers.push(choice);
        nextPage();
    }

    function nextPage() {
        var currentPage = getCurrentPage();
        if (currentPage === "results-page") {
            calculateResults();
        } else {
            history.forward();
        }
    }

    function allergyAdd() {
        allergy_count++;
        nextPage();
    }

    function coldAdd() {
        cold_count++;
        nextPage();
    }

    function getCurrentPage() {
        return document.querySelector('.page:target').id;
    }

    function calculateResults() {
        var totalResponses = answers.length;
        var allergyPercent = (allergy_count / 4) * 100;
        var coldPercent = (cold_count / 4) * 100;

        var resultText = document.getElementById("results");
        resultText.innerHTML = "Probability it is allergies = " + allergyPercent + "<br> Probability it is a cold = " + coldPercent;
    }
</script>
	<p id="results"></p>
	
</body>
</html>
